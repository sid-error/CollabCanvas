/* 
 * Main Application Stylesheet
 * 
 * Primary stylesheet for the collaborative drawing application.
 * Contains Tailwind CSS imports, high-contrast theme definitions,
 * and global CSS custom properties.
 * 
 * @file main.css
 * @version 1.0.0
 * 
 * Table of Contents:
 * 1. Tailwind CSS Import
 * 2. High Contrast Theme Variables
 * 3. High Contrast Theme Overrides
 */
/* 
 ---break---
 */
@import "tailwindcss";
@plugin "tailwindcss-animate";

/* ==========================================================================
   1. Tailwind CSS Import
   ========================================================================== */

/* 
 * Import Tailwind CSS framework
 * 
 * Tailwind CSS is a utility-first CSS framework that provides
 * low-level utility classes for building custom designs.
 * 
 * This import statement includes all Tailwind directives:
 * - @tailwind base: Preflight CSS reset and base styles
 * - @tailwind components: Component classes
 * - @tailwind utilities: Utility classes
 * 
 * @see {@link https://tailwindcss.com} for Tailwind CSS documentation
 */

/* 
 ---break---
 */
@custom-variant dark (&:is(.dark *));

/* Default light theme - applied to root and explicitly to .light class */
:root,
:root.light {
  color-scheme: light;
}

/* Dark theme - applied when .dark class is present */
:root.dark {
  color-scheme: dark;
}

/* High contrast theme - applied when .high-contrast class is present */
:root.high-contrast {
  color-scheme: dark;
}

/* ==========================================================================
   2. High Contrast Theme Variables
   ========================================================================== */

/*
 * High Contrast Theme Definition
 * 
 * This theme is designed for users with visual impairments,
 * providing maximum contrast between foreground and background elements.
 * Compliant with WCAG AAA contrast ratio requirements.
 * 
 * CSS custom properties (variables) define the theme's color palette.
 * These variables can be referenced throughout the application.
 * 
 * Color palette characteristics:
 * - High contrast (white/black/yellow)
 * - Reduced eye strain
 * - Improved readability
 * - WCAG AAA compliant
 * 
 * @see {@link https://www.w3.org/WAI/WCAG21/quickref/#contrast-minimum}
 *      for WCAG contrast guidelines
 */
.high-contrast {
  /* Text Colors */
  --text-primary: #ffffff;       /* Pure white for primary text */
  --text-secondary: #e5e7eb;     /* Light gray for secondary text */

  /* Background Colors */
  --bg-primary: #000000;         /* Pure black for primary backgrounds */
  --bg-secondary: #111827;       /* Dark blue-gray for secondary backgrounds */
  --bg-tertiary: #1f2937;        /* Medium blue-gray for tertiary backgrounds */

  /* Border Colors */
  --border-color: #ffffff;       /* White borders for maximum visibility */

  /* Accent Colors */
  --accent-color: #fbbf24;       /* Bright yellow for interactive elements */
  --accent-hover: #f59e0b;       /* Darker yellow for hover states */

  /*
   * Note: These CSS custom properties can be used in components:
   * color: var(--text-primary);
   * background-color: var(--bg-primary);
   * border-color: var(--border-color);
   */
}

/* ==========================================================================
   3. High Contrast Theme Overrides
   ========================================================================== */

/*
 * Tailwind CSS Overrides for High Contrast Theme
 * 
 * These rules override Tailwind's default utility classes when
 * the .high-contrast class is applied to the <html> or <body> element.
 * 
 * Each override ensures that the high contrast theme takes precedence
 * over Tailwind's default styling while maintaining the same utility class names.
 * 
 * Structure: .high-contrast .tailwind-class { !important override }
 * 
 * The !important declarations ensure theme consistency by overriding
 * any other competing styles.
 */

/* 
 * Background Color Overrides
 * Converts light backgrounds to dark variants
 */
.high-contrast .bg-white {
  /* Override white backgrounds with pure black */
  background-color: #000000 !important;
}

.high-contrast .bg-slate-100 {
  /* Override light gray backgrounds with dark blue-gray */
  background-color: #111827 !important;
}

/* 
 * Text Color Overrides
 * Ensures text remains visible against dark backgrounds
 */
.high-contrast .text-slate-500 {
  /* Override medium gray text with light gray for better contrast */
  color: #e5e7eb !important;
}

.high-contrast .text-blue-600 {
  /* Override blue text with bright yellow for high visibility */
  color: #fbbf24 !important;
}

/* 
 * Border Color Overrides
 * Makes borders clearly visible in high contrast mode
 */
.high-contrast .border-slate-200 {
  /* Override light gray borders with white borders */
  border-color: #ffffff !important;
}

/* 
 * Interactive Element Overrides
 * Ensures buttons and interactive elements are clearly visible
 */
.high-contrast .bg-blue-600 {
  /* Override blue backgrounds with yellow, text with black */
  background-color: #fbbf24 !important;
  color: #000000 !important;
}

.high-contrast .hover\:bg-blue-700:hover {
  /* Override blue hover states with darker yellow */
  background-color: #f59e0b !important;
}

/*
 * Future Override Notes:
 * 
 * As the application grows, additional overrides may be needed for:
 * 1. Form controls (inputs, selects, checkboxes)
 * 2. Modal and dialog backgrounds
 * 3. Status indicators (success, warning, error)
 * 4. Chart and data visualization colors
 * 5. Icon and SVG fill colors
 * 
 * Consider creating a comprehensive accessibility review checklist
 * to ensure all UI components are properly themed.
 */

/* 
 ---break---
 */

@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

/* 
 ---break---
 */

:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

/* 
 ---break---
 */

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}